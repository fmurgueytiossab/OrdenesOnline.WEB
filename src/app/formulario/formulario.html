<div class="page-container">
  <div class="form-container">

    <div class="header">
      <h2 class="titulo-form">Envío de propuestas</h2>
      <button mat-stroked-button type="button" (click)="cambiarPassword()">
        Cambiar contraseña
      </button>
    </div>

    <!-- FILA 1 -->
    <div class="row three">
      <div class="readonly-field">
  <label>Nombre del operador</label>
  <div class="value">{{ NombreOperador }}</div>
</div>

      <div class="readonly-field">
  <label>Correo corporativo</label>
  <div class="value">{{ CorreoCorporativo }}</div>
</div>

      <div class="readonly-field">
  <label>Código de cliente</label>
  <div class="value">{{ Cosabcli }}</div>
</div>
    </div>

    <!-- FILA 2 -->
    <div class="row two">
      <mat-radio-group [(ngModel)]="Tipo" [disabled]="bloqueado">
        <mat-radio-button value="Compra">Compra</mat-radio-button>
        <mat-radio-button value="Venta">Venta</mat-radio-button>
      </mat-radio-group>

      <mat-radio-group [(ngModel)]="Mercado" [disabled]="bloqueado">
        <mat-radio-button value="Local">Local</mat-radio-button>
        <mat-radio-button value="Extranjero">Extranjero</mat-radio-button>
      </mat-radio-group>
    </div>

    <!-- FILA 3 -->
    <div class="row two">
      <mat-form-field appearance="fill">
        <mat-label>Instrumento</mat-label>
        <input matInput [(ngModel)]="Instrumento"
               (ngModelChange)="filtrarValores($event)"
               [matAutocomplete]="auto"
               [disabled]="bloqueado">
        <mat-autocomplete #auto="matAutocomplete"
          (optionSelected)="onInstrumentoSeleccionado($event.option.value)">
          <mat-option *ngFor="let v of valoresFiltrados" [value]="v.mnemo">
            {{ v.mnemo }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Moneda</mat-label>
        <input matInput [value]="DescripcionMoneda" readonly [disabled]="bloqueado">
      </mat-form-field>
    </div>

    <!-- FILA 4 -->
    <div class="row three">
      <mat-form-field appearance="fill">
        <mat-label>Cantidad</mat-label>
        <input matInput type="number" [(ngModel)]="Cantidad" [disabled]="bloqueado">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Precio</mat-label>
        <input matInput type="number" step="0.001"
               [(ngModel)]="Precio"
               [disabled]="esAMercado || bloqueado">
      </mat-form-field>

      <mat-checkbox
        [(ngModel)]="esAMercado"
        (change)="onTipoOrdenChange()"
        [disabled]="bloqueado"
        class="center">
        A mercado
      </mat-checkbox>
    </div>

    <!-- FILA 5 -->
    <div class="row one">
      <mat-form-field appearance="fill">
        <mat-label>Monto</mat-label>
        <input matInput [value]="monto ?? ''" 
         [readonly]="!esAMercado" 
         [disabled]="esAMercado">
      </mat-form-field>
    </div>

    <mat-card-actions class="actions-row">

      <a class="action-link" (click)="volverLogin()">Volver</a>

      <button
        mat-raised-button
        color="primary"       
        (click)="grabar()"
        [disabled]="bloqueado">
        Enviar
      </button>
    </mat-card-actions>

  </div>
</div>
